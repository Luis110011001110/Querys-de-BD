#borrado y actualizacion
CONN HR/123

SELECT TABLE_NAME
FROM USER_TABLES;

DESC COUNTRIES;

SELECT COUNTRY_ID
		,COUNTRY_NAME
		,REGION_ID
FROM COUNTRIES;

DESC REGIONS;

SELECT REGION_ID
		,REGION_NAME
FROM REGIONS;

SELECT COUNTRY_ID
		,COUNTRY_NAME
		,REGION_NAME
FROM COUNTRIES, REGIONS
WHERE COUNTRIES.REGION_ID=REGION_ID;

CREATE TABLE COUNTRYCOPIA AS
SELECT COUNTRY_ID
		,COUNTRY_NAME
		,REGION_NAME
FROM COUNTRIES, REGIONS
WHERE COUNTRIES.REGION_ID=REGION_ID;

SELECT COUNTRY_ID
		,COUNTRY_NAME
		,REGION_NAME
FROM COUNTRYCOPIA;

SELECT REGION_NAME
FROM COUNTRYCOPIA
WHERE REGION_NAME='Asia';#Asia

UPDATE COUNTRYCOPIA 
SET REGION_NAME='ASIATICO'
WHERE REGION_NAME='Asia';#Asia --> MAYUSCULAS Y MINUSCULAS

#PAISES REPETIDOS
SELECT COUNTRY_NAME
FROM COUNTRYCOPIA
ORDER BY 1;

#BORRAR PAISES DE AMERICA
#consulta
SELECT REGION_NAME
		,COUNTRY_NAME
FROM COUNTRYCOPIA
WHERE REGION_NAME='Americas';
#borradp
DELETE FROM COUNTRYCOPIA
WHERE REGION_NAME='Americas';


#borrar todos los paises que
#se encuentran en el mismo continente en el 
#que se encuentra italiza
#CONSULTA
SELECT REGION_NAME
		,COUNTRY_NAME
FROM COUNTRYCOPIA
WHERE COUNTRY_NAME='Italy';
#CONSULTA DE CONTINENTE
SELECT REGION_NAME
		,COUNTRY_NAME
FROM COUNTRYCOPIA
WHERE COUNTRY_NAME='Europe';
#BORRADO
DELETE FROM COUNTRYCOPIA
WHERE REGION_NAME='Europe';



#CONSULTA DIRECTA DE REGION SIMILAR A ITALIA
SELECT REGION_NAME
		,COUNTRY_NAME
FROM COUNTRYCOPIA
WHERE REGION_NAME=(SELECT REGION_NAME
				   FROM COUNTRYCOPIA
				   WHERE COUNTRY_NAME='Italy');
#BORRADO CON SUBCONSULTA
DELETE FROM COUNTRYCOPIA
WHERE REGION_NAME=(SELECT REGION_NAME
				   FROM COUNTRYCOPIA
				   WHERE COUNTRY_NAME='Italy');

#CONTENIDO DE COUNTYCOPIA
DESC COUNTRYCOPIA;

#CONSULTA COUNTRIES Y REIONS
SELECT COUNTRY_ID
		,COUNTRY_NAME
		,REGION_NAME
FROM COUNTRIES, REGIONS
WHERE COUNTRIES.REGION_ID=REGIONS.REGION_ID;

#INSERCION EN COUNTRYCOPIA
INSERT INTO COUNTRYCOPIA
SELECT COUNTRY_ID
		,COUNTRY_NAME
		,REGION_NAME
FROM COUNTRIES, REGIONS
WHERE COUNTRIES.REGION_ID=REGIONS.REGION_ID;

#CONSULTA CUNTRY_NAME
SELECT COUNTRY_NAME
FROM COUNTRYCOPIA;

#BORRADO DE COUNTRYCOPIA
DELETE FROM COUNTRYCOPIA;

DESC USER_CONSTRAINTS;
SELECT CONSTRAINT_NAME
		,CONSTRAINT_TYPE
		,TABLE_NAME
FROM USER_CONSTRAINTS
WHERE TABLE_NAME='COUNTRYCOPIA';

ALTER TABLE COUNTRYCOPIA ADD CONSTRAINTS COU_COUNTRY_ID_PK PRIMARY KEY (COUNTRY_ID);

#INSERCION EN COUNTRYCOPIA (2 VECES PARA CORROBORAR)
INSERT INTO COUNTRYCOPIA
SELECT COUNTRY_ID
		,COUNTRY_NAME
		,REGION_NAME
FROM COUNTRIES, REGIONS
WHERE COUNTRIES.REGION_ID=REGIONS.REGION_ID;

SELECT TABLE_NAME
FROM USER_TABLES;

#CONSULTA DE LOCATIONS
SELECT LOCATION_ID
		,CITY
		,COUNTRY_ID
FROM LOCATIONS;

#CONSULTA DE CITY
SELECT CITY
		, COUNTRY_ID
FROM LOCATIONS
WHERE CITY='Roma';

#CONSULTA EN COPIA
SELECT COUNTRY_NAME
FROM COUNTRYCOPIA
WHERE COUNTRY_ID = (SELECT COUNTRY_ID
					FROM LOCATIONS
					WHERE CITY='Roma');

#BORRADO
DELETE FROM COUNTRYCOPIA
WHERE COUNTRY_ID = (SELECT COUNTRY_ID
					FROM LOCATIONS
					WHERE CITY='Roma');


#CONSULTA CIUDAD --> Tokio
SELECT CITY
		,COUNTRY_ID
FROM LOCATIONS
WHERE CITY='Tokio';

#BORRADO CON SUNCONSULTA
SELECT COUNTRY_ID
FROM LOCATIONS
WHERE CITY='Tokio';

SELECT REGION_NAME
		,COUNTRY_NAME
FROM COUNTRYCOPIA
WHERE COUNTRY_ID=(SELECT COUNTRY_ID
				  FROM LOCATIONS
				  WHERE CITY)'Tokio';

#asignacion de nombre A TODOS LOS PAISES
UPDATE COUNTRYCOPIA
SET REGION_NAME=(SELECT REGION_NAME
				FROM COUNTRYCOPIA
				WHERE COUNTRY_ID=(SELECT COUNTRY_ID
								  FROM LOCATIONS
								  WHERE CITY='Tokio'));



